{"file":"extends-controller-updates.js","mappings":"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","names":["HTMLElement","__stencil_proxyCustomElement"],"sources":["ts-target/extends-controller-updates/clock-controller-base.ts","ts-target/extends-controller-updates/cmp.tsx"],"sourcesContent":["/**\n * ClockController base class - demonstrates controller-initiated updates via requestUpdate pattern\n * Modeled after Lit's ClockController: https://lit.dev/docs/composition/controllers/#content\n *\n * This base class:\n * 1. Manages timer lifecycle (start/stop)\n * 2. Requests host component updates via abstract requestUpdate() method\n * 3. Host component owns @State and implements requestUpdate()\n *\n * This simulates Lit's this.host.requestUpdate() pattern\n */\nexport abstract class ClockControllerBase {\n  private timer?: NodeJS.Timeout;\n  private timerInterval: number;\n\n  constructor() {\n    this.timerInterval = 1000;\n  }\n\n  // Abstract method - host component must implement this\n  // This simulates Lit's this.host.requestUpdate()\n  protected abstract requestUpdate(): void;\n\n  // Lifecycle methods that components can use\n  componentDidLoad() {\n    this.startClock();\n  }\n\n  disconnectedCallback() {\n    this.stopClock();\n  }\n\n  // Controller methods - can be called by host component\n  startClock() {\n    if (this.timer) return; // Already running\n\n    this.timer = setInterval(() => {\n      // This simulates Lit's this.host.requestUpdate()\n      // Controller tells host \"please update yourself\"\n      this.requestUpdate();\n    }, this.timerInterval);\n  }\n\n  stopClock() {\n    if (this.timer) {\n      clearInterval(this.timer);\n      this.timer = undefined;\n    }\n  }\n\n  // Utility method for host to get current time\n  protected getCurrentTimeValue(): string {\n    return new Date().toLocaleTimeString();\n  }\n}\n","import { Component, h, State } from '@stencil/core';\nimport { ClockControllerBase } from './clock-controller-base.js';\n\n@Component({\n  tag: 'extends-controller-updates',\n})\nexport class ControllerUpdatesCmp extends ClockControllerBase {\n  // Component owns the @State - not the base class\n  @State() currentTime: string = new Date().toLocaleTimeString();\n  @State() isClockRunning: boolean = true;\n\n  constructor() {\n    super(); // No parameters needed\n  }\n\n  // Component implements the requestUpdate method (simulates Lit's this.host.requestUpdate())\n  protected requestUpdate(): void {\n    // Controller calls this method to request a re-render\n    // Component updates its own @State which triggers re-render\n    this.currentTime = this.getCurrentTimeValue();\n  }\n\n  toggleClock() {\n    if (this.isClockRunning) {\n      this.stopClock();\n      this.isClockRunning = false;\n    } else {\n      this.startClock();\n      this.isClockRunning = true;\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Controller-Initiated Updates Test</h2>\n\n        <div class=\"clock-section\">\n          <h3>Clock Controller (requestUpdate Pattern)</h3>\n          <p class=\"current-time\">Current Time: {this.currentTime}</p>\n          <button class=\"toggle-clock\" onClick={() => this.toggleClock()}>\n            {this.isClockRunning ? 'Stop Clock' : 'Start Clock'}\n          </button>\n        </div>\n\n        <div class=\"status-info\">\n          <h3>How It Works</h3>\n          <p class=\"clock-status\">Clock Running: {this.isClockRunning ? 'Yes' : 'No'}</p>\n          <p class=\"update-info\">Base class calls requestUpdate() → Component updates @State → Re-render</p>\n          <p class=\"inheritance-info\">Simulates Lit's this.host.requestUpdate() pattern</p>\n          <p class=\"pattern-info\">@State lives on component, controller requests updates</p>\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}