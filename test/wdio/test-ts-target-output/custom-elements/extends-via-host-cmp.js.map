{"file":"extends-via-host-cmp.js","mappings":"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","names":["HTMLElement","__stencil_proxyCustomElement"],"sources":["ts-target/extends-via-host/reactive-controller-host.ts","ts-target/extends-via-host/mouse-controller.ts","ts-target/extends-via-host/cmp.tsx"],"sourcesContent":["import { forceUpdate, ComponentInterface } from '@stencil/core';\n\nexport interface ReactiveController {\n  hostConnected?(): void;\n  hostDisconnected?(): void;\n  hostWillLoad?(): Promise<void> | void;\n  hostDidLoad?(): void;\n  hostWillRender?(): Promise<void> | void;\n  hostDidRender?(): void;\n  hostWillUpdate?(): Promise<void> | void;\n  hostDidUpdate?(): void;\n}\n\nexport class ReactiveControllerHost implements ComponentInterface {\n  controllers = new Set<ReactiveController>();\n\n  addController(controller: ReactiveController) {\n    this.controllers.add(controller);\n  }\n\n  removeController(controller: ReactiveController) {\n    this.controllers.delete(controller);\n  }\n\n  requestUpdate() {\n    forceUpdate(this);\n  }\n\n  connectedCallback() {\n    this.controllers.forEach((controller) => controller.hostConnected?.());\n  }\n\n  disconnectedCallback() {\n    this.controllers.forEach((controller) => controller.hostDisconnected?.());\n  }\n\n  componentWillLoad() {\n    this.controllers.forEach((controller) => controller.hostWillLoad?.());\n  }\n\n  componentDidLoad() {\n    this.controllers.forEach((controller) => controller.hostDidLoad?.());\n  }\n\n  componentWillRender() {\n    this.controllers.forEach((controller) => controller.hostWillRender?.());\n  }\n\n  componentDidRender() {\n    this.controllers.forEach((controller) => controller.hostDidRender?.());\n  }\n\n  componentWillUpdate() {\n    this.controllers.forEach((controller) => controller.hostWillUpdate?.());\n  }\n\n  componentDidUpdate() {\n    this.controllers.forEach((controller) => controller.hostDidUpdate?.());\n  }\n}\n","import type { ReactiveControllerHost, ReactiveController } from './reactive-controller-host.js';\n\nexport class MouseController implements ReactiveController {\n  constructor(host: ReactiveControllerHost) {\n    this.host = host;\n    host.addController(this);\n  }\n\n  private host: ReactiveControllerHost;\n  pos = { x: 0, y: 0 };\n\n  // Test hooks to verify lifecycle methods were called\n  _hostConnectedCalled = false;\n  _hostDisconnectedCalled = false;\n\n  _onMouseMove = ({ clientX, clientY }: MouseEvent) => {\n    this.pos = { x: clientX, y: clientY };\n    this.host.requestUpdate();\n  };\n\n  hostConnected() {\n    this._hostConnectedCalled = true;\n    // Store in window for test verification\n    (window as any).__mouseControllerConnected = true;\n    window.addEventListener('mousemove', this._onMouseMove);\n  }\n\n  hostDisconnected() {\n    this._hostDisconnectedCalled = true;\n    // Store in window for test verification (component may be removed from DOM)\n    (window as any).__mouseControllerDisconnected = true;\n    window.removeEventListener('mousemove', this._onMouseMove);\n  }\n}\n","import { Component, h, Host, State } from '@stencil/core';\nimport { ReactiveControllerHost } from './reactive-controller-host.js';\nimport { MouseController } from './mouse-controller.js';\n\n@Component({\n  tag: 'extends-via-host-cmp',\n  scoped: true,\n  styles: `\n    :host {\n      display: block;\n    }\n  `,\n})\nexport class MyComponent extends ReactiveControllerHost {\n  private mouse = new MouseController(this);\n\n  // Track lifecycle calls for testing\n  @State() lifecycleCalls: string[] = [];\n\n  componentWillLoad() {\n    super.componentWillLoad(); // Call base class to trigger controllers\n    this.lifecycleCalls = [...this.lifecycleCalls, 'componentWillLoad'];\n  }\n\n  componentDidLoad() {\n    super.componentDidLoad(); // Call base class to trigger controllers\n    this.lifecycleCalls = [...this.lifecycleCalls, 'componentDidLoad'];\n  }\n\n  render() {\n    return (\n      <Host>\n        <h3>The mouse is at:</h3>\n        <pre class=\"mouse-position\">\n          x: {this.mouse.pos.x as number}\n          y: {this.mouse.pos.y as number}\n        </pre>\n        <div class=\"lifecycle-info\" style={{ display: 'none' }}>\n          Lifecycle calls: {this.lifecycleCalls.join(', ')}\n        </div>\n      </Host>\n    );\n  }\n}\n"],"version":3}